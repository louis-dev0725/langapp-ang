<div class="container">
  <h1 translate>Sign up</h1>
  <p></p>

  <ng-container *ngIf="errors.length > 0">
    <mat-card *ngFor="let err of errors"
              class="err-alert">
      <mat-card-content>{{err.message}}</mat-card-content>
    </mat-card>
  </ng-container>

  <div class="container">
    <form [formGroup]="signupForm" (ngSubmit)="onSubmit(signupForm.value)">
      <input type="hidden" formControlName="timezone" [ngModel]="getTimezone()">
      <input type="hidden" formControlName="language" [ngModel]="getLanguage()">
      <input *ngIf="getInvatedId()" type="hidden" formControlName="invitedByUserId" [ngModel]="getInvatedId()">

      <mat-form-field class="form-item">
        <input
          matInput
          required
          formControlName="name"
          placeholder="{{'Name' | translate}}">
        <mat-error *ngIf="checkError('name')">{{ getErrors('name') }}</mat-error>
      </mat-form-field>

      <mat-form-field class="form-item">
        <input
          matInput
          formControlName="company"
          placeholder="{{'Company' | translate}}">
        <mat-error></mat-error>
      </mat-form-field>

      <mat-form-field class="form-item">
        <input
          matInput
          formControlName="telephone"
          placeholder="{{'Phone' | translate}}">
        <mat-error></mat-error>
      </mat-form-field>

      <mat-form-field class="form-item">
        <input
          matInput
          required
          formControlName="email"
          type="email"
          placeholder="{{'Email' | translate}}">
        <mat-error *ngIf="checkError('email')">{{ getErrors('email') }}</mat-error>
      </mat-form-field>

      <mat-form-field class="form-item">
        <input
          matInput
          required
          formControlName="password"
          type="password"
          placeholder="{{'Password' | translate}}">
        <mat-error *ngIf="checkError('password')">{{ getErrors('password') }}</mat-error>
      </mat-form-field>

      <mat-form-field class="form-item">
        <input
          matInput
          required
          formControlName="passrepeat"
          type="password"
          placeholder="{{'Repeat password' | translate}}">
        <mat-error *ngIf="checkError('passrepeat')">{{getErrors('passrepeat')}}</mat-error>
      </mat-form-field>

      <div class="form-item">
        <button
          mat-flat-button
          color="primary"
          [disabled]="!signupForm.valid"
          translate>Sign up</button>
      </div>

    </form>
  </div>
</div>
