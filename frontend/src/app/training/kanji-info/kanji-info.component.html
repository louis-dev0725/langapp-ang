<div class="card p-0">
  <div class="flex flex-wrap sm:flex-nowrap">
    <div class="basis-full sm:basis-1/2 p-8">
      <div class="flex flex-col items-start justify-start">
        <div class="flex items-center justify-start">
          <div class="w-10 pr-4">
            <p-knob size="20" [(ngModel)]="card.frequencyRank" [disabled]="true" [showValue]="false" [valueColor]="'#00c853'" [pTooltip]="'frequency-rank-tooltip-kanji' | translate :{value: card.frequencyRank}" [tooltipStyleClass]="'max-w-xs'"></p-knob>
          </div>
          <div [innerHTML]="card?.value" class="text-black text-[40px] mr-3"></div>
          <div class="text-black pl-4">
            {{ meaning }}
          </div>  
        </div>
      </div>
    </div>
    <div class="basis-full sm:basis-1/2 p-8" *ngIf="card?.mnemonic?.imageUrl">
      <div class="flex items-start justify-start">
        <img width="105" height="105" class="margin-m" *ngIf="card?.mnemonic?.imageUrl" [src]="card?.mnemonic?.imageUrl">
<!--          <button pButton style="background: none; padding: 0; border: none; margin-left: 10px" type="button" class="edit"><ic-icon [icon]="icons.editIcon" height="18" width="18" [color]="'#5397d5'"></ic-icon></button>-->
      </div>
    </div>
  </div>
  <div class="flex flex-wrap sm:flex-nowrap">
    <ng-container *ngFor="let type of ['kunReadings', 'onReadings']">
      <div class="basis-full sm:basis-1/2 p-8 border-r border-gray-300">
        <p class="text-center text-[12px]" style="color: #afafaf;">{{type == 'kunReadings' ? 'Kun readings' : 'On readings' | translate}}:</p>
        <div *ngFor="let reading of card?.[type]; let i=index" class="pt-6">
          <div class="flex">
            <div class="w-14 mr-4 rounded-md p-2 text-center" [ngClass]="reading.frequencyPercent >= 90 ? 'bg-green-900 text-white' : reading.frequencyPercent >= 30 ? 'bg-green-800 text-white' : reading.frequencyPercent > 10 ? 'bg-green-700 text-white' : reading.frequencyPercent > 5 ? 'bg-green-600 text-white' : reading.frequencyPercent > 1 ? 'bg-green-200 text-neutral-400' : 'bg-green-100 text-neutral-400'" [pTooltip]="'frequency-percent-tooltip-reading' | translate :{value: reading.frequencyPercent}" [tooltipStyleClass]="'max-w-xs'">
              {{ reading.frequencyPercent | number: '1.0-0' }}%
            </div>
            <div class="flex-1 flex items-center justify-start">
              <p [innerHTML]="reading?.value" class="text-black text-[20px]"></p>
            </div>
          </div>

          <div *ngFor="let example of reading?.exampleWords; let y=index" class="border-b border-gray-200 py-8">
            <div class="flex">
              <div class="w-6 mr-4 flex items-center justify-start">
                <i *ngIf="example.audioUrls?.length" class="pi pi-volume-up play-audio-button" style="color: #5397d5; font-size: 1.5rem" (click)="playAudio(example?.audioUrls[0])"></i>
              </div>
              <div class="flex items-center justify-start w-6 mr-4">
                <p-knob size="20" [(ngModel)]="example.frequencyRank" [disabled]="true" [showValue]="false" [valueColor]="'#00c853'" [pTooltip]="'frequency-rank-tooltip-word' | translate :{value: example?.frequencyRank}" [tooltipStyleClass]="'max-w-xs'"></p-knob>
              </div>
              <div class="flex flex-1 items-center justify-start">
                <div class="text-black text-[18px]" [innerHTML]="example?.furiganaHtml"></div>
              </div>
              <div class="flex items-center justify-center">
                <button pButton class="ellipsis-btn" style="width: 43px; height: 24px" icon="pi pi-ellipsis-h" iconPos="center" (click)="goToWordInfo(example?.infoCard)"></button>
              </div>
            </div>
            <div class="pl-20">
              <div class="text-black" style="font-size: 14px">{{example?.meanings | join: ', '}}</div>
            </div>
            <ng-container *ngIf="example?.exampleSentences?.length">
              <div class="flex items-center justify-start pt-6 example-sentence" *ngFor="let sentence of example?.exampleSentences | slice: 0 : example?.countExampleSentencesToShow">
                <div class="w-10 pr-4 flex items-center justify-start">
                  <i *ngIf="sentence?.audioUrls?.length" class="pi pi-volume-up play-audio-button" style="color: #5397d5; font-size: 1.5rem" (click)="playAudio(sentence?.audioUrls[0])"></i>
                </div>
                <div style="flex: 10" class="flex flex-col">
                  <p class="text-black" style="font-size: 18px" [innerHTML]="sentence?.furiganaHtml"></p>
                  <p class="text-black" style="font-size: 14px" *ngIf="sentence?.translationHtml" [innerHTML]="sentence?.translationHtml"></p>
                </div>
              </div>
            </ng-container>
            <div class="flex items-center justify-center pt-6" *ngIf="example?.exampleSentences?.length > example?.countExampleSentencesToShow">
              <button pButton class="ellipsis-btn" style="width: 100%; height: 20px" icon="pi pi-ellipsis-h" iconPos="center" (click)="showMore(i, y, type, 5)"></button>
            </div>
          </div>
        </div>
      </div>
    </ng-container>
  </div>
</div>
<div class="card card-bottom-buttons w-full" style="margin: 0; padding: 12px 16px">
  <div class="word-footer">
    <div style="flex: 3" class="footer-text">
      <p style="color: #a0b0c4; font-size: 14px">{{'Explanation: take a look at the meanings and examples, then click "Continue".' | translate}}</p>
    </div>
    <div style="flex: 1" class="w-full flex justify-center">
      <button pButton label="{{'Continue' | translate}}" class="w-full" style="height: 40px; font-size: 15px" (click)="goToNextCard()"></button>
    </div>
  </div>
</div>