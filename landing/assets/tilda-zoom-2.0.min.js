function t_initZoom(){$('[data-zoomable="yes"]').length&&(window.tzoominited=!0,window.tzoomopenonce=!1,window.isDoubletapScaleAdded=!1,$('[data-zoomable="yes"]:not(.t-slds__thumbs_gallery):not([data-img-zoom-url=""])').addClass("t-zoomable"),$("body").append('<div class="t-zoomer__wrapper">            <div class="t-zoomer__container">            </div>            <div class="t-zoomer__bg"></div>            <div class="t-zoomer__close">                <svg width="20" height="20" viewBox="0 0 23 23" fill="none" xmlns="http://www.w3.org/2000/svg">                    <path d="M1.41421 -0.000151038L0 1.41406L21.2132 22.6273L22.6274 21.2131L1.41421 -0.000151038Z" fill="black"/>                    <path d="M22.6291 1.41421L21.2148 0L0.00164068 21.2132L1.41585 22.6274L22.6291 1.41421Z" fill="black"/>                </svg>            </div>            </div>'),$(".t-zoomer__wrapper").append('<div class="t-zoomer__scale showed">                <svg class="icon-increase" width="20" height="20" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">                    <path d="M22.832 22L17.8592 17.0273" stroke="black" stroke-width="2" stroke-linecap="square"/>                    <path fill-rule="evenodd" clip-rule="evenodd" d="M4.58591 3.7511C0.917768 7.41924 0.917768 13.367 4.58591 17.0352C8.25405 20.7033 14.2019 20.7033 17.87 17.0352C21.5381 13.367 21.5381 7.41924 17.87 3.7511C14.2019 0.0829653 8.25405 0.0829653 4.58591 3.7511Z" stroke="black" stroke-width="2"/>                    <path d="M6.25781 10.3931H16.2035" stroke="black" stroke-width="2"/>                    <path d="M11.2305 15.3662V5.42053" stroke="black" stroke-width="2"/>                </svg>                <svg class="icon-decrease" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">                    <path d="M21.9961 22L17.0233 17.0273" stroke="black" stroke-width="2" stroke-linecap="square"/>                    <path fill-rule="evenodd" clip-rule="evenodd" d="M3.74997 3.7511C0.0818308 7.41924 0.0818308 13.367 3.74997 17.0352C7.41811 20.7033 13.3659 20.7033 17.0341 17.0352C20.7022 13.367 20.7022 7.41924 17.0341 3.7511C13.3659 0.0829653 7.41811 0.0829653 3.74997 3.7511Z" stroke="black" stroke-width="2"/>                    <path d="M5.41797 10.3931H15.3637" stroke="black" stroke-width="2"/>                </svg>            </div>'),$(".t-records").on("click",'.t-zoomable:not([data-img-zoom-url=""])',t_zoomHandler),$(".t-records").on("click",".t-slds__thumbs_gallery",t_zoomHandler),$(".t-zoomer__close, .t-zoomer__bg").click(function(){t_zoom_close(),0!=$(document).find(".t-popup_show").length&&$(document).keydown(function(o){27==o.keyCode&&void 0!==window.t_store_closePopup&&t_store_closePopup(!1)})}))}function t_zoomHandler(){$("body").addClass("t-zoomer__show"),$(".t-zoomer__container").html('        <div class="t-carousel__zoomed">            <div class="t-carousel__zoomer__slides">            <div class="t-carousel__zoomer__inner">                <div class="t-carousel__zoomer__track">                </div>            </div>            <div class="t-carousel__zoomer__control t-carousel__zoomer__control_left" data-zoomer-slide="prev">                <div class="t-carousel__zoomer__arrow__wrapper t-carousel__zoomer__arrow__wrapper_left">                <div class="t-carousel__zoomer__arrow t-carousel__zoomer__arrow_left t-carousel__zoomer__arrow_small"></div>                </div>            </div>            <div class="t-carousel__zoomer__control t-carousel__zoomer__control_right" data-zoomer-slide="next">                <div class="t-carousel__zoomer__arrow__wrapper t-carousel__zoomer__arrow__wrapper_right">                <div class="t-carousel__zoomer__arrow t-carousel__zoomer__arrow_right t-carousel__zoomer__arrow_small"></div>                </div>            </div>            </div>        </div>');var o=$(this).closest(".r").attr("id"),t=$("#"+o),e=t.find(".t-zoomable:not(.t-slds__thumbs_gallery):not(.tn-atom__slds-img)");!$("#"+o).find(".t-slds").length||(r=$(this).closest(".t-slds")).length&&(e=r.find(".t-zoomable:not(.t-slds__thumbs_gallery)"));var s=$(".t-carousel__zoomer__track");e.each(function(o,t){var e="",a="",r="",n="",i=$(t).attr("data-img-zoom-url").split(",");($(t).is("img")||$(t).is("div"))&&(e=$(t).attr("title")||"",a=$(t).attr("data-img-zoom-descr")||""),""!==e&&(r='<div class="t-zoomer__title t-name t-descr_xxs">'+e+"</div>"),""!==a&&(n='<div class="t-zoomer__descr t-descr t-descr_xxs">'+a+"</div>"),s.append('            <div class="t-carousel__zoomer__item">            <div class="t-carousel__zoomer__wrapper">            <img class="t-carousel__zoomer__img" src="'+i+'"></div>            <div class="t-zoomer__comments">'+r+n+"</div>            </div>")}),t_zoom_setModalColor(t);var a=$(".t-zoomer__wrapper"),o=$(".t-carousel__zoomer__item"),r=a.height()-o.height(),n=0,e=o.find(".t-zoomer__comments");e.each(function(o,t){var e=$(t).find(".t-zoomer__title"),a=$(t).find(".t-zoomer__descr");(""===e&&""===a||!e.length&&!a.length)&&$(t).css("padding","0");t=$(t).innerHeight();n=t<n?n:t}),e.css("height",n);t=o.find(".t-carousel__zoomer__img"),e=$(".t-carousel__zoomer__arrow__wrapper");t.css("max-height","calc(100vh - "+(n+r)+"px"),e.css("top","calc(50% - "+n/2+"px)");e=$(this).attr("data-img-zoom-url"),e=$('.t-carousel__zoomer__img[src="'+e+'"]').closest(".t-carousel__zoomer__item");o.each(function(o,t){$(t).attr("data-zoomer-slide-number",o)}),1<o.length&&t_zoom_loopSlider();o=e.position().left;e.addClass("active"),s.css({transition:"none",transform:"translateX("+-o+"px)"}),setTimeout(function(){s.css("transition","")}),$(".t-carousel__zoomer__control_right").click(function(){"y"!==s.attr("data-on-transition")&&"y"!==a.attr("data-on-drag")&&(t_zoom_unscale(),setTimeout(function(){t_zoom_showSlide("next"),t_zoom_checkForScale()}))}),$(".t-carousel__zoomer__control_left").click(function(){"y"!==s.attr("data-on-transition")&&"y"!==a.attr("data-on-drag")&&(t_zoom_unscale(),setTimeout(function(){t_zoom_showSlide("prev"),t_zoom_checkForScale()}))}),$(document).unbind("keydown"),$(document).keydown(function(o){37==o.keyCode&&"y"!==s.attr("data-on-transition")&&"y"!==a.attr("data-on-drag")&&(t_zoom_unscale(),setTimeout(function(){t_zoom_showSlide("prev"),t_zoom_checkForScale()})),39==o.keyCode&&"y"!==s.attr("data-on-transition")&&"y"!==a.attr("data-on-drag")&&(t_zoom_unscale(),setTimeout(function(){t_zoom_showSlide("next"),t_zoom_checkForScale()})),27==o.keyCode&&(t_zoom_close(),0<$(document).find(".t-popup_show").length&&$(document).keydown(function(o){27==o.keyCode&&t_store_closePopup(!1)}))});o=$(".t-carousel__zoomer__item").size();$("body").addClass("t-zoomer__show_fixed"),1==o&&$(".t-carousel__zoomer__control").css("display","none"),$(".t-carousel__zoomer__inner").click(function(){window.isMobile||($(this).hasClass("scale-active")?t_zoom_unscale():window.isMobile||t_zoom_close())}),t_zoom_checkForScale(),t_zoom_lockScroll(),t_zoom_initSwipe(),t_zoom_initCloseSwipe(),t_zoom_initResizeListener(),window.tzoomopenonce=!0,window.isMobile&&(t_zoom_setHideControlsTimer(),a.on("touchstart touchmove touchend mousemove",t_zoom_setHideControlsTimer))}function t_zoom_initSwipe(){var t,i,o=$(".t-carousel__zoomer__item"),e=$(".t-carousel__zoomer__track"),s=$(".t-zoomer__wrapper");1<o.length&&(o=new Hammer($(".t-zoomer__wrapper")[0],{domEvents:!0,inputClass:Hammer.TouchInput,cssProps:{touchCollout:"default"},recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_HORIZONTAL}]]}),i=!1,o.on("panstart",function(){"y"!==e.attr("data-on-transition")?(t=e.position().left,e.css("transition","none")):t=null,i=1!==window.visualViewport.scale||s.hasClass("scale-active")}),o.on("panmove",function(o){"y"===e.attr("data-on-transition")||"y"===s.attr("data-on-drag")||1!==o.maxPointers||i||(40<Math.abs(o.deltaX)&&e.attr("data-on-drag","y"),t&&(o=t+o.deltaX,e.css("transform","translateX("+o+"px)")))}),window.tzoomopenonce||o.on("panend",function(o){var t,e,a,r,n=$(".t-carousel__zoomer__track");n.attr("data-on-drag",""),"y"===n.attr("data-on-transition")||"y"===s.attr("data-on-drag")||1!==o.maxPointers||i||(n.css("transition",""),r=Math.abs(o.velocityX),t=n.position().left,e=$(".t-carousel__zoomer__item").width(),a=n.find(".t-carousel__zoomer__item.active").position().left,r=.6<(r=(e-Math.abs(t+a))/r/1e3)?.6:r<.2?.2:r,n.css("transition-duration",r+"s"),o.velocityX<-.5||o.deltaX<-80?(t_zoom_unscale(),t_zoom_showSlide("next"),t_zoom_checkForScale()):.5<o.velocityX||80<o.deltaX?(t_zoom_unscale(),t_zoom_showSlide("prev"),t_zoom_checkForScale()):t_zoom_showSlide())}))}function t_zoom_showSlide(o){var t=$(".t-carousel__zoomer__track"),e=t.find(".t-carousel__zoomer__item"),a=t.find(".t-carousel__zoomer__item.active").index();"next"===o&&(a=(a+1)%e.length,t.attr("data-on-transition","y")),"prev"===o&&(a=(e.length+(a-1))%e.length,t.attr("data-on-transition","y"));o=e.eq(a).position().left;e.removeClass("active").eq(a).addClass("active"),t.css("transform","translateX("+-o+"px")}function t_zoom_transitForLoop(o){var t,e=$(".t-carousel__zoomer__track"),a=$(".t-carousel__zoomer__item");if(!o)return 1;"start"===o&&(t=a.length-2),"end"===o&&(t=1),o=a.eq(t).position().left,a.removeClass("active").eq(t).addClass("active"),e.css({transition:"none",transform:"translateX("+-o+"px)"}),setTimeout(function(){e.css("transition","")})}function t_zoom_loopSlider(){var t=$(".t-carousel__zoomer__track"),o=t.find(".t-carousel__zoomer__item"),e=o.eq(0).clone(),o=o.eq(o.length-1).clone();t.prepend(o).append(e);var a=t.find(".t-carousel__zoomer__item").length;t.on("transitionend webkitTransitionEnd oTransitionEnd",function(){var o=t.find(".active").index();0===o&&t_zoom_transitForLoop("start"),o===a-1&&t_zoom_transitForLoop("end"),t.attr("data-on-transition","")})}function t_zoom_initCloseSwipe(){var e,o=new Hammer($(".t-zoomer__wrapper")[0],{domEvents:!0,inputClass:Hammer.TouchInput,cssProps:{touchCollout:"default"},recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_VERTICAL}]]}),a=$(".t-zoomer__wrapper"),r=$(".t-carousel__zoomer__track"),n=!1;o.on("panstart",function(){e=a.position().top,a.css("transition","none"),n=1!==window.visualViewport.scale||a.hasClass("scale-active")}),o.on("panmove",function(o){var t=Math.abs(o.deltaY);"y"===r.attr("data-on-drag")&&"y"!==a.attr("data-on-drag")||!(-120<o.angle&&o.angle<-60||o.angle<120&&60<o.angle)||1!==o.maxPointers||n||(40<t&&a.attr("data-on-drag","y"),o=e+o.deltaY,a.css("transform","translateY("+o+"px)"))}),o.on("panend",t_zoom_closeSwipeHandler)}function t_zoom_closeSwipeHandler(o){var t=$(".t-zoomer__wrapper"),e=1!==window.visualViewport.scale||t.hasClass("scale-active");t.css("transition","transform 300ms ease-out"),Math.abs(o.deltaY)<40&&t.css("transform",""),"y"!==t.attr("data-on-drag")||1!==o.maxPointers||e||(o.deltaY<-200||o.velocityY<-.3?(t.css("transform","translateY(-100vh)"),setTimeout(function(){t_zoom_close(),t.css("transform","")},300)):200<o.deltaY||.3<o.velocityY?(t.css("transform","translateY(100vh)"),setTimeout(function(){t_zoom_close(),t.css("transform","")},300)):t.css("transform","")),t.attr("data-on-drag","")}function t_zoom_checkForScale(){var o=!1,t=$(".t-carousel__zoomer__item.active .t-carousel__zoomer__img:not(.loaded)");t.length&&(t.load(function(){o||($(window).width()<t[0].naturalWidth||$(window).height()<t[0].naturalHeight)&&(t.addClass("loaded"),window.isDoubletapScaleAdded||t_zoom_doubletapScaleInit(),t_zoom_scale_init())}),t[0].complete&&!o&&(o=!0,$(window).width()<t[0].naturalWidth||$(window).height()<t[0].naturalHeight?(window.isDoubletapScaleAdded||t_zoom_doubletapScaleInit(),t_zoom_scale_init()):$(".t-zoomer__scale").css("display","")))}function t_zoom_scale_init(){$(".t-zoomer__scale").css("display","block"),"y"!==$(".t-zoomer__scale").attr("data-zoom-scale-init")&&($(".t-zoomer__scale").attr("data-zoom-scale-init","y"),$(".t-zoomer__wrapper").on("click",".t-zoomer__scale",function(o){var t=$(".t-carousel__zoomer__item.active .t-carousel__zoomer__img"),e=$(".t-zoomer__wrapper"),a=$(".t-carousel__zoomer__inner"),r=$(".t-carousel__zoomer__track");t.css("max-height",""),r.css({transition:"none",transform:"none"}),e.hasClass("scale-active")?t_zoom_unscale():(e.addClass("scale-active"),a.addClass("scale-active"),window.isMobile?t_zoom_mobileZoomPositioningInit(t):t_zoom_desktopZoomPositioningInit(t,o))}))}function t_zoom_doubletapScaleInit(){window.isDoubletapScaleAdded=!0,new Hammer($(".t-zoomer__wrapper")[0],{domEvents:!0,inputClass:Hammer.TouchInput,cssProps:{touchCollout:"default"},recognizers:[[Hammer.Tap]]}).on("tap",function(o){var t,e,a;2===o.tapCount&&$("body").hasClass("t-zoomer__show")&&!o.target.closest(".t-carousel__zoomer__control")&&(t=$(".t-carousel__zoomer__item.active .t-carousel__zoomer__img"),e=$(".t-zoomer__wrapper"),a=$(".t-carousel__zoomer__inner"),o=$(".t-carousel__zoomer__track"),t.css("max-height",""),o.css({transition:"none",transform:"none"}),e.hasClass("scale-active")?t_zoom_unscale():(e.addClass("scale-active"),a.addClass("scale-active"),t_zoom_mobileZoomPositioningInit(t)))})}function t_zoom_desktopZoomPositioningInit(t,o){var e,a,r,n,i=($(window).width()-t.width())/2,s=($(window).height()-t.height())/2;t.css({left:i,top:s}),$(window).width()<t[0].naturalWidth&&(r=100*o.clientX/$(window).width(),n=-(r*(t.width()-$(window).width()))/100,t.css("left",n+"px"),t.on(window.isMobile?"touchmove":"mousemove",function(o){r=100*(void 0!==o.originalEvent.touches?o.originalEvent.touches[0]:o).clientX/$(window).width(),n=-(r*(t.width()-$(window).width()))/100,t.css("left",n+"px")})),$(window).height()<t[0].naturalHeight&&(e=100*o.clientY/$(window).height(),a=-(e*(t.height()-$(window).height()))/100,t.css("top",a+"px"),t.on(window.isMobile?"touchmove":"mousemove",function(o){e=100*(void 0!==o.originalEvent.touches?o.originalEvent.touches[0]:o).clientY/$(window).height(),a=-(e*(t.height()-$(window).height()))/100,t.css("top",a+"px")}))}function t_zoom_mobileZoomPositioningInit(e){var a=($(window).width()-e.width())/2,r=($(window).height()-e.height())/2;e.css({left:a,top:r});var n={x:0,y:0},i={},s={};e.on("touchstart",function(o){i=t_zoom_getTouchEventXY(o)}),e.on("touchmove",function(o){var t=t_zoom_getTouchEventXY(o),o=1.5*(t.x-i.x),t=1.5*(t.y-i.y);s.x=n.x+o,s.y=n.y+t,s.x>-a&&(s.x=-a),s.x<a&&(s.x=a),s.y>-r&&(s.y=-r),s.y<r&&(s.y=r),e.css("transform","translate("+s.x+"px, "+s.y+"px)")}),e.on("touchend touchcancel",function(){n.x=s.x,n.y=s.y})}function t_zoom_getTouchEventXY(o){var t={x:0,y:0};return"touchstart"!=o.type&&"touchmove"!=o.type&&"touchend"!=o.type&&"touchcancel"!=o.type||(o=o.originalEvent.touches[0]||o.originalEvent.changedTouches[0],t.x=o.pageX,t.y=o.pageY),t}function t_zoom_close(){t_zoom_unscale(),$("body").removeClass("t-zoomer__show t-zoomer__show_fixed"),$(document).unbind("keydown"),t_zoom_unlockScroll()}function t_zoom_unscale(){$(".t-zoomer__wrapper.scale-active, .t-carousel__zoomer__inner").removeClass("scale-active");var o=$(".t-carousel__zoomer__item.active"),t=o.find(".t-carousel__zoomer__img"),e=$(".t-carousel__zoomer__track"),a=$(".t-zoomer__wrapper").height()-o.height(),r=$(o).find(".t-zoomer__comments").innerHeight();t.off("mousemove touchmove").css({transform:"",left:"",top:"",maxHeight:"calc(100vh - "+(a+r)+"px"});o=o.position().left;e.css("transform","translateX("+-o+"px)"),setTimeout(function(){e.css("transition","")})}function t_zoom_lockScroll(){var o,t=/(android)/i.test(navigator.userAgent);(window.isiOS&&!window.MSStream||t)&&(""!==window.isiOSVersion&&void 0!==window.isiOSVersion||t)&&(11!==window.isiOSVersion[0]&&!t||(o=$("body")).hasClass("t-body_scroll-locked")||(t=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,o.addClass("t-body_scroll-locked"),o.css("top","-"+t+"px"),o.attr("data-popup-scrolltop",t)))}function t_zoom_unlockScroll(){var o,t=/(android)/i.test(navigator.userAgent);(window.isiOS&&!window.MSStream||t)&&(""!==window.isiOSVersion&&void 0!==window.isiOSVersion||t)&&(11!==window.isiOSVersion[0]&&!t||(o=$("body")).hasClass("t-body_scroll-locked")&&(t=$("body").attr("data-popup-scrolltop"),o.removeClass("t-body_scroll-locked"),o.css("top",""),o.removeAttr("data-popup-scrolltop"),window.scrollTo(0,t)))}function t_zoom_initResizeListener(){var o=t_throttle(t_zoom_resizeHandler,300);$(window).on("resize",o)}function t_zoom_resizeHandler(){var o=$(".t-carousel__zoomer__track"),t=o.find(".t-carousel__zoomer__item.active").position().left;o.css("transform","translateX("+-t+"px)")}function t_zoom_onFuncLoad(t,e,a){"function"==typeof window[t]?e():setTimeout(function o(){if("function"!=typeof window[t]){if("complete"===document.readyState&&"function"!=typeof window[t])throw new Error(t+" is undefined");setTimeout(o,a||100)}else e()})}function t_zoom_setModalColor(o){var e,t,a="#ffffff",r="#000000",n=t_zoom_hexToRgb(n=o.attr("data-bg-color")?o.attr("data-bg-color"):a),i=$(".t-zoomer__container"),s=$(".t-zoomer__wrapper svg"),_=s.find("path"),c=$(".t-zoomer__close, .t-zoomer__scale"),o=i.find(".t-carousel__zoomer__arrow__wrapper"),n="black"===t_zoom_luma_rgb(n)?r:a;n==r?(e=a,t="rgba(1, 1, 1, 0.3)",o.addClass("t-carousel__zoomer__arrow__wrapper_dark")):(e=r,t="rgba(255, 255, 255, 0.3)",o.removeClass("t-carousel__zoomer__arrow__wrapper_dark")),c.css("background",t),i.css({"background-color":n,color:e}),s.each(function(o,t){$(t).attr("fill")}),_.each(function(o,t){$(t).attr("stroke")&&$(t).attr("stroke",e),$(t).attr("fill")&&$(t).attr("fill",e)}),$(".t-zoomer__title, .t-zoomer__descr").css("color",e)}function t_zoom_luma_rgb(o){var t=Array.isArray(o);if(void 0===o)return"black";if(0!=o.indexOf("rgb")&&!t)return"black";o=t?o:o.split("(")[1].split(")")[0].split(",");return o.length<3||.2126*o[0]+.7152*o[1]+.0722*o[2]<128?"black":"white"}function t_zoom_hexToRgb(o){o=o.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(o,t,e,a){return t+t+e+e+a+a});var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(o),o=t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null;return t?[o.r,o.g,o.b]:null}function t_zoom_setHideControlsTimer(){var o=$(".t-carousel__zoomer__arrow__wrapper, .t-zoomer__scale");o.removeClass("t-zoomer__hide-animation"),setTimeout(function(){o.addClass("t-zoomer__hide-animation")})}$(document).ready(function(){window.tzoominited||t_zoom_onFuncLoad("t_initZoom",function(){t_initZoom()})});